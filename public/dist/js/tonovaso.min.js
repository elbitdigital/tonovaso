var Anchor=function(){function t(t,e){var n=this;this.element=t,_.defaults(e,{duration:200,easing:"linear",callback:!1,scrollOffset:0}),this.duration=e.duration,this.easing=e.easing,this.callback=e.callback,this.scrollOffset=e.scrollOffset,this.push=function(){n.start=this.bodyElement.scrollTop,n.startTime=Date.now(),n.documentHeight=n.getDocumentHeight(),n.windowHeight=n.getWindowHeight(),n.destinationPosition=n.getDestinationPosition(),n.animate()},this.element&&this.init()}return t.prototype.checkBody=function(){document.documentElement.scrollTop+=1;var t=0!==document.documentElement.scrollTop?document.documentElement:document.body;return document.documentElement.scrollTop-=1,t},t.prototype.easingOption=function(t,e){switch(t){case"linear":return e;case"easeInQuad":return e*e;case"easeOutQuad":return e*(2-e);case"easeInOutQuad":return e<.5?2*e*e:-1+(4-2*e)*e;case"easeInCubic":return e*e*e;case"easeOutCubic":return--e*e*e+1;case"easeInOutCubic":return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1;case"easeInQuart":return e*e*e*e;case"easeOutQuart":return 1- --e*e*e*e;case"easeInOutQuart":return e<.5?8*e*e*e*e:1-8*--e*e*e*e;case"easeInQuint":return e*e*e*e*e;case"easeOutQuint":return 1+--e*e*e*e*e;case"easeInOutQuint":return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e;default:return e*e}},t.prototype.animate=function(){var t=this,e=Date.now(),n=Math.min(1,(e-this.startTime)/this.duration),i=this.easingOption(this.easing,n);this.bodyElement.scrollTop=i*(this.destinationPosition-this.start)+this.start,this.bodyElement.scrollTop!==this.destinationPosition&&requestAnimationFrame(function(){t.animate()})},t.prototype.getDestinationPosition=function(){return(this.documentHeight-this.element.offsetTop<this.windowHeight?this.documentHeight-this.windowHeight:this.element.offsetTop)+this.scrollOffset},t.prototype.getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight},t.prototype.getDocumentHeight=function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)},t.prototype.init=function(){this.bodyElement=this.checkBody()},t}(),Dialog=function(){function t(t){var e=this;this.element=t,this.show=function(){e.element.classList.add("is-active")},this.hide=function(){e.element.classList.remove("is-active")},this.setText=function(t){var n=e.element.querySelector(".Dialog-text");if(n){n.innerHTML="";var i=document.createElement("span");i.textContent=t,n.appendChild(i)}},this.setSubText=function(t){var n=e.element.querySelector(".Dialog-subText");if(n){n.innerHTML="";var i=document.createElement("span");i.textContent=t,n.appendChild(i)}},this.element&&this.init()}return t.prototype.init=function(){},t}(),Player=function(){function t(t){var e=this;this.element=t,this.video=!1,this.config={backgroundElementSelector:".Player-background",innerElementSelector:".Player-inner",selectAreaElementSelector:".Player-selectArea"},this.pause=function(){e.video&&e.video.pause()},this.play=function(){e.video&&e.video.play()},this.stop=function(){e.video&&e.video.stop()},this.power=function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},this.element&&this.init()}return t.prototype.setVideo=function(t){this.video=t,this.video.elementID=this.element.id,this.backgroundElement?this.backgroundElement.style.backgroundImage="url(http://i.ytimg.com/vi/"+this.video.id+"/hqdefault.jpg)":this.element.style.backgroundImage="url(http://i.ytimg.com/vi/"+this.video.id+"/hqdefault.jpg)"},t.prototype.addControl=function(t,e){var n=this;switch(t){case"pause":n.addControlListener(e,n.pause);break;case"play":n.addControlListener(e,n.play);break;case"power":n.addControlListener(e,n.power);break;case"stop":n.addControlListener(e,n.stop);break;default:n.addControlListener(e,n.play)}},t.prototype.addControlListener=function(t,e){try{t.addEventListener("click",e)}catch(n){t&&t.attachEvent("onclick",e)}},t.prototype.getElements=function(){this.backgroundElement=this.element.querySelector(this.config.backgroundElementSelector),this.innerElement=this.element.querySelector(this.config.innerElementSelector),this.selectAreaElement=this.element.querySelector(this.config.selectAreaElementSelector)},t.prototype.addListeners=function(){var t=this;this.selectAreaElement?t.addControlListener(this.selectAreaElement,t.power):t.addControlListener(this.element,t.power)},t.prototype.init=function(){this.getElements(),this.addListeners()},t}(),Select=function(){function t(t,e){this.element=t,this.fallback=e,this.config={innerElementSelector:".Select-inner",valueElementSelector:".Select-value",selectElementSelector:".Select-select"},this.element&&this.init()}return t.prototype.updateValue=function(){var t=this;try{this.value=this.selectElement.value,this.valueElement.innerHTML="";var e=document.createElement("span");e.innerText=this.selectElement.value,this.valueElement.appendChild(e),setTimeout(function(){t.fallback&&t.fallback(t.value)},1)}catch(n){}},t.prototype.addListeners=function(){var t=this;try{this.selectElement.addEventListener("focus",function(){t.element.classList.add("is-focus")}),this.selectElement.addEventListener("blur",function(){t.element.classList.remove("is-focus")}),this.selectElement.addEventListener("keydown",function(){setTimeout(function(){t.updateValue()},1)}),this.selectElement.addEventListener("change",function(){t.updateValue()})}catch(e){console.log(e)}},t.prototype.getElements=function(){this.innerElement=this.element.querySelector(this.config.innerElementSelector),this.valueElement=this.element.querySelector(this.config.valueElementSelector),this.selectElement=this.element.querySelector(this.config.selectElementSelector)},t.prototype.init=function(){this.getElements(),this.addListeners(),this.updateValue()},t}(),TicketsCheckout=function(){function t(t,e){this.element=t,this.parent=e,this.config={priceAmountElementSelector:".TicketsCheckout-amount",quantityElementSelector:".TicketsCheckout-quantity",startButtonElementSelector:".TicketsCheckout-start"},this.amount="",this.quantity="",this.element&&this.parent&&this.init()}return t.prototype.start=function(){for(var t=this,e=[],n=this.parent.options.length;n--;)if(this.parent.options[n].quantity){var i={id:this.parent.options[n].id,description:this.parent.options[n].description,amount:this.parent.options[n].price,quantity:this.parent.options[n].quantity};e.push(i)}if(e.length&&firebase){var o=firebase.database().ref("transactions/"),s=o.push().key,r=Date.now().toString(),a={items:e,reference:s,time:r};o.child(s).set(a),$.ajax({crossDomain:!0,url:"https://service-elbit-com-br.umbler.net/dalia-server/index.php",type:"POST",cache:!1,data:{pedido:JSON.stringify(a)},beforeSend:function(){t.parent.dialog.setText("Aguarde, estamos te redirecionando para uma pÃ¡gina segura de pagamento"),t.parent.dialog.show();try{ga("send","event",{eventCategory:"Ticket",eventAction:"click",eventLabel:"TicketCheckout"})}catch(e){}},success:function(t){try{t.code&&(a.code=t.code,a.date=t.date,console.log(a),console.log(s),o.child(s).set(a))}catch(e){}setTimeout(function(){t.url&&window.location.replace(t.url)},2e3)}})}},t.prototype.convertToComma=function(t){return t.toString().replace(".",",")},t.prototype.getQuantity=function(){for(var t=0,e=this.parent.options.length;e--;)t+=this.parent.options[e].quantity;return t},t.prototype.getPriceAmount=function(){for(var t=0,e=this.parent.options.length;e--;)t+=this.parent.options[e].quantity*this.parent.options[e].price;return parseFloat(t).toFixed(2)},t.prototype.updatePriceAmount=function(){this.priceAmountElement.innerHTML="";var t=document.createElement("span");t.textContent="R$"+this.convertToComma(this.getPriceAmount()),this.priceAmountElement.appendChild(t)},t.prototype.updateQuantity=function(){this.quantityElement.innerHTML="";var t=document.createElement("span");t.textContent="QTD: "+this.getQuantity(),this.quantityElement.appendChild(t)},t.prototype.updateDetails=function(){this.updatePriceAmount(),this.updateQuantity()},t.prototype.addListeners=function(){var t=this;try{this.startButtonElement.addEventListener("click",function(){t.start()})}catch(e){}},t.prototype.getElements=function(){this.quantityElement=this.element.querySelector(this.config.quantityElementSelector),this.priceAmountElement=this.element.querySelector(this.config.priceAmountElementSelector),this.startButtonElement=this.element.querySelector(this.config.startButtonElementSelector)},t.prototype.init=function(){this.getElements(),this.addListeners(),this.updatePriceAmount()},t}(),TicketsOption=function(){function t(t,e){var n=this;this.element=t,this.parent=e,this.config={showMoreElementSelector:".TicketsOptions-showMore",showLessElementSelector:".TicketsOptions-showLess",showingMoreStateClass:"is-showingMore",selectElementSelector:".Select.Select--ticketOption"},this.quantity=0,this.id=this.element.dataset.optionId||"",this.description=this.element.dataset.description||"",this.price=this.getPrice(),this.onSelectChange=function(t){try{n.quantity=parseInt(t),n.parent.onOptionQuantityChange(),n.quantity>0&&ga("send","event",{eventCategory:"TicketOptionSelect",eventAction:"change",eventLabel:n.id})}catch(e){}},this.element&&this.init()}return t.prototype.addListeners=function(){var t=this;try{this.showMore.addEventListener("click",function(e){e.preventDefault(),t.element.classList.add(t.config.showingMoreStateClass)}),this.showLess.addEventListener("click",function(e){e.preventDefault(),t.element.classList.remove(t.config.showingMoreStateClass)})}catch(e){console.log(e)}},t.prototype.getElements=function(){var t=this;this.showLess=this.element.querySelector(this.config.showLessElementSelector),this.showMore=this.element.querySelector(this.config.showMoreElementSelector);var e=this.element.querySelector(this.config.selectElementSelector);e&&(this.select=new Select(e,t.onSelectChange))},t.prototype.getPrice=function(){try{return this.element.dataset.price?parseFloat(this.element.dataset.price).toFixed(2):0}catch(t){return 0}},t.prototype.init=function(){this.getElements(),this.addListeners()},t}(),Tickets=function(){function t(t){var e=this;this.element=t,this.config={optionElementSelector:".TicketsOption",checkoutElementSelector:".Tickets-checkout"},this.options=[],this.onOptionQuantityChange=function(){e.checkout.updateDetails();for(var t=0,n=e.options.length;n--;)t+=e.options[n].quantity;0==t?e.element.classList.add("is-empty"):e.element.classList.remove("is-empty")},this.element&&this.init()}return t.prototype.getElements=function(){var t=this.element.querySelector(this.config.checkoutElementSelector);t&&(this.checkout=new TicketsCheckout(t,this))},t.prototype.getOptions=function(){for(var t=this.element.querySelectorAll(this.config.optionElementSelector),e=t.length;e--;)this.options.push(new TicketsOption(t[e],this))},t.prototype.init=function(){this.getOptions(),this.getElements()},t}(),YouTubeVideo=function(){function t(t){var e=this;this.id=t,this.player=!1,this.elementID=!1,window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player(e.elementID,e.config)},this.onPlayerReady=function(t){t.target.playVideo(),console.log(e.formatTime(e.getCurrentTime())),setInterval(function(){console.log(e.formatTime(e.getCurrentTime()))},1e3)},this.onPlayerStateChange=function(t){},this.config={height:"100%",width:"100%",videoId:e.id,playerVars:{autoplay:0,color:"white",disablekb:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,theme:"light"},events:{onReady:e.onPlayerReady,onStateChange:e.onPlayerStateChange}}}return t.prototype.pause=function(){this.player.pauseVideo()},t.prototype.play=function(){this.player.playVideo()},t.prototype.stop=function(){this.player.stopVideo()},t.prototype.formatTime=function(t){t=Math.round(t);var e=Math.floor(t/60),n=t-60*e;return n=n<10?"0"+n:n,e+":"+n},t.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},t.prototype.getDuration=function(){return this.player.getDuration()},t}();